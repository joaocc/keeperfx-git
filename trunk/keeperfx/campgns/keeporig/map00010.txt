REM ****************************************************************************
REM  Campaigns Consolidation Project for KeeperFX strategy game.
REM ****************************************************************************
REM  Script for Level Nevergrim
REM  Campaign: DK Original
REM  Authors:  based on Bullfrog script
REM            KeeperFX CCP Team
REM  Date:     17 Dec 1996 - 11 Feb 2011
REM  Copying and copyrights:
REM    This program is free software; you can redistribute it and/or modify
REM    it under the terms of the GNU General Public License as published by
REM    the Free Software Foundation; either version 2 of the License, or
REM    (at your option) any later version.
REM ****************************************************************************

REM New rooms for the player:
REM   SCAVENGER - OK
REM New creatures for the player:
REM   DRAGON - OK
REM   HELL_HOUND - OK
REM New powers for the player:
REM   POWER_CAVE_IN - OK
REM New manufacture for the player:
REM   TRAP_BOULDER - OK
REM Removed:
REM   POWER_CHICKEN - now introduced in level 11, as otherwise you wouldn't have anything new there.
REM   TRAP_ALARM - now introduced in level 11
REM   TRAP_LAVA - now introduced in level 12
REM   DOOR_MAGIC - now introduced in level 13

SET_GENERATE_SPEED(600)

START_MONEY(PLAYER0,6000)
START_MONEY(PLAYER1,16000)

COMPUTER_PLAYER(PLAYER1,0)
SET_COMPUTER_CHECKS(PLAYER1,"CHECK FOR QUICK ATTACK",700,70,3000,8,12500)
SET_COMPUTER_PROCESS(PLAYER1,"ATTACK SAFE ATTACK",0,70,8,70,0)
SET_COMPUTER_PROCESS(PLAYER1,"ATTACK PLAN 1",0,70,8,70,0)

MAX_CREATURES(PLAYER0,25)
MAX_CREATURES(PLAYER1,20)

ADD_CREATURE_TO_POOL(DARK_MISTRESS,15)
ADD_CREATURE_TO_POOL(SORCEROR,20)
ADD_CREATURE_TO_POOL(BILE_DEMON,10)
ADD_CREATURE_TO_POOL(HELL_HOUND,20)
ADD_CREATURE_TO_POOL(DRAGON,12)
ADD_CREATURE_TO_POOL(ORC,12)

REM	Creature availability
CREATURE_AVAILABLE(ALL_PLAYERS,DARK_MISTRESS,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,SORCEROR,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,BILE_DEMON,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,HELL_HOUND,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,DRAGON,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,ORC,1,1)
	
REM	Room availability
ROOM_AVAILABLE(ALL_PLAYERS,TREASURE,1,1)
ROOM_AVAILABLE(ALL_PLAYERS,LAIR,1,1)
ROOM_AVAILABLE(ALL_PLAYERS,GARDEN,1,1)
ROOM_AVAILABLE(ALL_PLAYERS,TRAINING,1,1)
ROOM_AVAILABLE(ALL_PLAYERS,RESEARCH,1,1)
ROOM_AVAILABLE(ALL_PLAYERS,WORKSHOP,1,0)
ROOM_AVAILABLE(ALL_PLAYERS,BARRACKS,1,0)
ROOM_AVAILABLE(ALL_PLAYERS,GUARD_POST,1,0)
ROOM_AVAILABLE(ALL_PLAYERS,BRIDGE,1,0)
ROOM_AVAILABLE(ALL_PLAYERS,PRISON,1,0)
ROOM_AVAILABLE(ALL_PLAYERS,TORTURE,1,0)
ROOM_AVAILABLE(ALL_PLAYERS,TEMPLE,1,0)
ROOM_AVAILABLE(ALL_PLAYERS,GRAVEYARD,1,0)
ROOM_AVAILABLE(ALL_PLAYERS,SCAVENGER,1,0)

REM	Spells availability
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_HAND,1,1)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_IMP,1,1)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_SLAP,1,1)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_SIGHT,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_CALL_TO_ARMS,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_HEAL_CREATURE,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_SPEED,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_LIGHTNING,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_PROTECT,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_CONCEAL,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_DISEASE,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_CAVE_IN,1,0)

REM	Doors and traps availability
DOOR_AVAILABLE(ALL_PLAYERS,WOOD,1,0)
DOOR_AVAILABLE(ALL_PLAYERS,BRACED,1,0)
TRAP_AVAILABLE(ALL_PLAYERS,POISON_GAS,1,0)
TRAP_AVAILABLE(ALL_PLAYERS,LIGHTNING,1,0)
DOOR_AVAILABLE(ALL_PLAYERS,STEEL,1,0)	
TRAP_AVAILABLE(ALL_PLAYERS,BOULDER,1,0)	

REM ****************************************************************************

REM "This is a fiery realm. Tread carefully. Conquer the rival keeper to rule this land."
DISPLAY_OBJECTIVE(100,PLAYER0)

IF(PLAYER1,DUNGEON_DESTROYED == 1)
REM	"Congratulations. This land and its inhabitants will now bend to your will."
	DISPLAY_OBJECTIVE(101,PLAYER0)
	WIN_GAME
ENDIF

IF_AVAILABLE(PLAYER0,BOULDER == 1)
REM	"You have a boulder trap manufactured. Put these down in corridors and watch them crush all creatures in its path."
	DISPLAY_INFORMATION(90)
ENDIF

IF_AVAILABLE(PLAYER0,POWER_CAVE_IN == 1)
REM	"You have researched the cave in spell. Use it to block off passages and repair dungeon breaches. Beware, however, as the rockfall will crush to death all creatures beneath it."
	DISPLAY_INFORMATION(91)
ENDIF

IF(PLAYER0,SCAVENGER > 0)
REM	"You have researched a scavenger room. Place creatures within to convert over creatures of that type from enemy dungeon keepers. If there are no enemy keepers, creatures will join you from the surface."
	DISPLAY_INFORMATION(92)
	ROOM_AVAILABLE(PLAYER0,SCAVENGER,1,1)
ENDIF

IF(PLAYER0,DRAGON > 0)
REM	"A dragon has joined you, lured to you by your great wealth."
	DISPLAY_INFORMATION(93)
ENDIF

IF(PLAYER0,HELL_HOUND > 0)
REM	"A hell hound has joined you, attracted by your scavenger room."
	DISPLAY_INFORMATION(94)
ENDIF
